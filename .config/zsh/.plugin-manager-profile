# zplugin profile

# if zplugin is not installe when arriving here return
if [ ! -d "$ZPLUGIN_DIR" ]; then
    return
fi

declare -A ZPLGM # initial Zplugin's hash definition, if configuring before loading Zplugin

ZPLGM[BIN_DIR]="$ZPLUGIN_DIR/bin/zplugin.zsh"
ZPLGM[HOME_DIR]="$ZPLUGIN_DIR"
ZPLGM[PLUGINS_DIR]="$ZPLUGIN_DIR/plugins"
source "$ZPLGM[BIN_DIR]"




# Load the prompt system and completion system and initilize them
autoload -Uz _zplugin
(( ${+_comps} )) && _comps[zplugin]=_zplugin

# shell is opened each day.
#_comp_files=(${ZDOTDIR:-$HOME}/.zcompdump(Nm-20))
#if (( $#_comp_files )); then
#  compinit -i -C
#else
#  compinit -i
#fi
#unset _comp_files

#promptinit


# PLUGINS

# load oh-my-zsh setup
zplugin snippet OMZ::lib/git.zsh
zplugin snippet OMZ::lib/history.zsh

# Load Git plugin from OMZ
zplugin snippet OMZ::plugins/git/git.plugin.zsh
zplugin cdclear -q # <- forget completions provided up to this moment

setopt promptsubst

zplugin ice wait lucid
zplugin snippet OMZ::plugins/colored-man-pages/colored-man-pages.plugin.zsh


# scripts

# On OSX, you might need to install coreutils from homebrew and use the
# g-prefix â€“ gsed, gdircolors
#zplugin ice atclone"dircolors -b "$HOME/.dir_colors" > c.zsh" atpull'%atclone' pick"c.zsh"
#zplugin load trapd00r/LS_COLORS

# revolver
zplugin ice wait"2" lucid as"program" pick"revolver"
zplugin light molovo/revolver

# git extensions
zplugin ice wait"2" lucid as"program" pick"bin/git-dsf"
zplugin light zdharma/zsh-diff-so-fancy

zplugin ice wait"2" lucid as"program" pick"$ZPFX/bin/git-now" make"prefix=$ZPFX install"
zplugin light iwata/git-now

zplugin ice wait"2" lucid as"program" pick"$ZPFX/bin/git-alias" make"PREFIX=$ZPFX" nocompile
zplugin light tj/git-extras

zplugin ice wait"2" lucid as"program" atclone'perl Makefile.PL PREFIX=$ZPFX' atpull'%atclone' \
            make'install' pick"$ZPFX/bin/git-cal"
zplugin light k4rthik/git-cal

zplugin ice as"program" id-as"git-unique" pick"git-unique"
zplugin snippet https://github.com/Osse/git-scripts/blob/master/git-unique

# autocomplete
zplugin light zsh-users/zsh-autosuggestions
zplugin light zdharma/fast-syntax-highlighting

# Plugin history-search-multi-word loaded with tracking.
zplugin load zdharma/history-search-multi-word

# Load the pure theme, with zsh-async library that's bundled with it.
zplugin ice pick"/dev/null" multisrc"{async,pure}.zsh"
zplugin light sindresorhus/pure
